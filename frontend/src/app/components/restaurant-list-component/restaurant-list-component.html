<div class="container mt-4">
    <div class="d-flex mb-3 justify-content-between align-items-center">
        <h2 class="mb-0">Restaurant List</h2>
        <button class="btn btn-primary" (click)="refresh()">Refresh</button>
    </div>
    <input
            type="text"
            class="form-control mb-3"
            placeholder="Search restaurants by name or city..."
            [(ngModel)]="searchQuery"
            (input)="onSearch()"
    />

  @if (loading) {
    <div class="text-secondary">Loading...</div>
  } @else {
    @if (error) {
       <div class="alert alert-danger">{{ error }}</div>
    }
    <table class="table table-hover table-striped">
      <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Street</th>
        <th>City</th>
        <th>Building Number</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
        @for (restaurant of restaurants; track restaurant.id) {
          <tr>
            <td>{{ restaurant.id }}</td>
            <td>{{ restaurant.name }}</td>
            <td>{{ restaurant.street }}</td>
            <td>{{ restaurant.city }}</td>
            <td>{{ restaurant.buildingNumber }}</td>
            <td>
              <a [routerLink]="['/restaurant', restaurant.id]" class="btn btn-sm btn-warning">Edit</a>
              <button (click)="deleteRestaurant(restaurant.id)" class="btn btn-sm btn-danger ms-1">Delete</button>
            </td>
          </tr>
        } @empty {
          <tr>
            <td colspan="6" class="text-center">No restaurants found.</td>
          </tr>
        }
      </tbody>
    </table>
  }
</div>
